{"ast":null,"code":"import _slicedToArray from \"/Users/stan/Desktop/esg_demo_system/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/stan/Desktop/esg_demo_system/front_end/src/pages/WordFrequency.js\";\nimport React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport WordCloud from './WordCloud';\nfunction WordFrequency() {\n  var _useParams = useParams(),\n    filename = _useParams.filename;\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedFile = _useState2[0],\n    setSelectedFile = _useState2[1];\n  var _useState3 = useState(\"environmental\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedCategory = _useState4[0],\n    setSelectedCategory = _useState4[1];\n  var navigate = useNavigate();\n  var handleFileChange = function handleFileChange(event) {\n    setSelectedFile(event.target.files[0]);\n  };\n  var handleFileUpload = function handleFileUpload() {\n    if (!selectedFile) {\n      alert('No file selected!');\n      return;\n    }\n    var formData = new FormData();\n    formData.append('pdf', selectedFile);\n    fetch('http://localhost:3000/upload-wordcloud', {\n      method: 'POST',\n      body: formData\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      navigate(\"/visualisations/word_frequency/\".concat(selectedFile.name));\n    }).catch(function (error) {\n      console.error('Error:', error);\n    });\n  };\n  var filepath = filename || (selectedFile ? selectedFile.name : '');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Word Frequency Visualisation\"), !filename && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \".pdf\",\n    onChange: handleFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleFileUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }, \"Upload\")), filename && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedCategory,\n    onChange: function onChange(e) {\n      return setSelectedCategory(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"environmental\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, \"Environmental Words\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"social\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"Social Words\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"governance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, \"Governance Words\")), /*#__PURE__*/React.createElement(WordCloud, {\n    filepath: filepath,\n    category: selectedCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  })));\n}\nexport default WordFrequency;","map":{"version":3,"names":["React","useState","useParams","useNavigate","WordCloud","WordFrequency","_useParams","filename","_useState","_useState2","_slicedToArray","selectedFile","setSelectedFile","_useState3","_useState4","selectedCategory","setSelectedCategory","navigate","handleFileChange","event","target","files","handleFileUpload","alert","formData","FormData","append","fetch","method","body","then","response","json","data","concat","name","catch","error","console","filepath","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","type","accept","onChange","onClick","value","e","category"],"sources":["/Users/stan/Desktop/esg_demo_system/front_end/src/pages/WordFrequency.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport WordCloud from './WordCloud';\n\nfunction WordFrequency() {\n    const { filename } = useParams();\n    const [selectedFile, setSelectedFile] = useState();\n    const [selectedCategory, setSelectedCategory] = useState(\"environmental\");\n    const navigate = useNavigate();\n\n    const handleFileChange = (event) => {\n        setSelectedFile(event.target.files[0]);\n    };\n\n    const handleFileUpload = () => {\n        if (!selectedFile) {\n            alert('No file selected!');\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('pdf', selectedFile);\n\n        fetch('http://localhost:3000/upload-wordcloud', {\n            method: 'POST',\n            body: formData\n        })\n        .then(response => response.json())\n        .then(data => {\n            navigate(`/visualisations/word_frequency/${selectedFile.name}`);\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    };\n\n    const filepath = filename || (selectedFile ? selectedFile.name : '');\n\n    return (\n        <div>\n            <h1>Word Frequency Visualisation</h1>\n            {!filename && (\n                <>\n                    <input type=\"file\" accept=\".pdf\" onChange={handleFileChange} />\n                    <button onClick={handleFileUpload}>Upload</button>\n                </>\n            )}\n            {filename && (\n                <>\n                    <select value={selectedCategory} onChange={e => setSelectedCategory(e.target.value)}>\n                        <option value=\"environmental\">Environmental Words</option>\n                        <option value=\"social\">Social Words</option>\n                        <option value=\"governance\">Governance Words</option>\n                    </select>\n                    <WordCloud filepath={filepath} category={selectedCategory} />\n                </>\n            )}\n        </div>\n    );\n}\n\nexport default WordFrequency;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}