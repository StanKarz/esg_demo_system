{"ast":null,"code":"import _slicedToArray from \"/Users/stan/Desktop/esg_demo_system/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/stan/Desktop/esg_demo_system/front_end/src/pages/WordFrequency.js\";\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport WordCloud from './WordCloud';\nfunction WordFrequency() {\n  var _useParams = useParams(),\n    filename = _useParams.filename;\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedFile = _useState2[0],\n    setSelectedFile = _useState2[1]; // const [fileUploaded, setFileUploaded] = useState(false); // new state variable\n  var navigate = useNavigate();\n  var handleFileChange = function handleFileChange(event) {\n    setSelectedFile(event.target.files[0]);\n  };\n  var handleFileUpload = function handleFileUpload() {\n    if (!selectedFile) {\n      alert('No file selected!');\n      return;\n    }\n    var formData = new FormData();\n    formData.append('pdf', selectedFile);\n    fetch('http://localhost:3000/upload-wordcloud', {\n      method: 'POST',\n      body: formData\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      // setFileUploaded(true); // set fileUploaded to true\n      navigate(\"/visualisations/word_frequency/\".concat(data.path));\n    }).catch(function (error) {\n      console.error('Error:', error);\n    });\n  };\n  var filepath = filename || (selectedFile ? selectedFile.name : '');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Word Frequency Visualisation\"), !filename && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \".pdf\",\n    onChange: handleFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleFileUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, \"Upload\")), filename && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WordCloud, {\n    filepath: filepath,\n    category: \"environmental\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(WordCloud, {\n    filepath: filepath,\n    category: \"social\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(WordCloud, {\n    filepath: filepath,\n    category: \"governance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  })));\n}","map":{"version":3,"names":["React","useState","useNavigate","WordCloud","WordFrequency","_useParams","useParams","filename","_useState","_useState2","_slicedToArray","selectedFile","setSelectedFile","navigate","handleFileChange","event","target","files","handleFileUpload","alert","formData","FormData","append","fetch","method","body","then","response","json","data","concat","path","catch","error","console","filepath","name","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","type","accept","onChange","onClick","category"],"sources":["/Users/stan/Desktop/esg_demo_system/front_end/src/pages/WordFrequency.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport WordCloud from './WordCloud';\n\n\nfunction WordFrequency() {\n    const { filename } = useParams();\n    const [selectedFile, setSelectedFile] = useState();\n    // const [fileUploaded, setFileUploaded] = useState(false); // new state variable\n    const navigate = useNavigate();\n\n    const handleFileChange = (event) => {\n        setSelectedFile(event.target.files[0]);\n    };\n\n    const handleFileUpload = () => {\n        if (!selectedFile) {\n            alert('No file selected!');\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('pdf', selectedFile);\n\n        fetch('http://localhost:3000/upload-wordcloud', {\n            method: 'POST',\n            body: formData\n        })\n        .then(response => response.json())\n        .then(data => {\n            // setFileUploaded(true); // set fileUploaded to true\n            navigate(`/visualisations/word_frequency/${data.path}`);\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    };\n\n    const filepath = filename || (selectedFile ? selectedFile.name : '');\n\n    return (\n        <div>\n            <h1>Word Frequency Visualisation</h1>\n            {/* Conditionally render file upload UI */}\n            {!filename && (\n                <>\n                    <input type=\"file\" accept=\".pdf\" onChange={handleFileChange} />\n                    <button onClick={handleFileUpload}>Upload</button>\n                </>\n            )}\n            {/* Render the WordCloud component for each category */}\n            {filename && (\n                <>\n                    <WordCloud filepath={filepath} category=\"environmental\" />\n                    <WordCloud filepath={filepath} category=\"social\" />\n                    <WordCloud filepath={filepath} category=\"governance\" />\n                </>\n            )}\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}