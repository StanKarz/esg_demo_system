{"ast":null,"code":"import _slicedToArray from \"/Users/stan/Desktop/esg_demo_system/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/stan/Desktop/esg_demo_system/front_end/src/pages/WordFrequency.js\";\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport WordCloud from './WordCloud';\nfunction WordFrequency() {\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedFile = _useState2[0],\n    setSelectedFile = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    fileUploaded = _useState4[0],\n    setFileUploaded = _useState4[1]; // new state variable\n  var navigate = useNavigate();\n  var handleFileChange = function handleFileChange(event) {\n    setSelectedFile(event.target.files[0]);\n  };\n  var handleFileUpload = function handleFileUpload() {\n    if (!selectedFile) {\n      alert('No file selected!');\n      return;\n    }\n    var formData = new FormData();\n    formData.append('pdf', selectedFile);\n    fetch('http://localhost:3000/upload-wordcloud', {\n      method: 'POST',\n      body: formData\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      setFileUploaded(true); // set fileUploaded to true\n      navigate(\"/visualisations/word_frequency/\".concat(data.path));\n    }).catch(function (error) {\n      console.error('Error:', error);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Word Frequency Visualisation\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \".pdf\",\n    onChange: handleFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleFileUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Upload\"), /*#__PURE__*/React.createElement(WordCloud, {\n    filepath: selectedFile ? selectedFile.name : '',\n    category: \"environmental\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(WordCloud, {\n    filepath: selectedFile ? selectedFile.name : '',\n    category: \"social\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(WordCloud, {\n    filepath: selectedFile ? selectedFile.name : '',\n    category: \"governance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }));\n}\nexport default WordFrequency;","map":{"version":3,"names":["React","useState","useNavigate","WordCloud","WordFrequency","_useState","_useState2","_slicedToArray","selectedFile","setSelectedFile","_useState3","_useState4","fileUploaded","setFileUploaded","navigate","handleFileChange","event","target","files","handleFileUpload","alert","formData","FormData","append","fetch","method","body","then","response","json","data","concat","path","catch","error","console","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","onClick","filepath","name","category"],"sources":["/Users/stan/Desktop/esg_demo_system/front_end/src/pages/WordFrequency.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport WordCloud from './WordCloud';\n\n\nfunction WordFrequency() {\n    const [selectedFile, setSelectedFile] = useState();\n    const [fileUploaded, setFileUploaded] = useState(false); // new state variable\n    const navigate = useNavigate();\n\n    const handleFileChange = (event) => {\n        setSelectedFile(event.target.files[0]);\n    };\n\n    const handleFileUpload = () => {\n        if (!selectedFile) {\n            alert('No file selected!');\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('pdf', selectedFile);\n\n        fetch('http://localhost:3000/upload-wordcloud', {\n            method: 'POST',\n            body: formData\n        })\n        .then(response => response.json())\n        .then(data => {\n            setFileUploaded(true); // set fileUploaded to true\n            navigate(`/visualisations/word_frequency/${data.path}`);\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    };\n\n    return (\n        <div>\n            <h1>Word Frequency Visualisation</h1>\n            <input type=\"file\" accept=\".pdf\" onChange={handleFileChange} />\n            <button onClick={handleFileUpload}>Upload</button>\n            {/* Render the WordCloud component for each category */}\n            <WordCloud filepath={selectedFile ? selectedFile.name : ''} category=\"environmental\" />\n            <WordCloud filepath={selectedFile ? selectedFile.name : ''} category=\"social\" />\n            <WordCloud filepath={selectedFile ? selectedFile.name : ''} category=\"governance\" />\n\n        </div>\n    );\n}\n\nexport default WordFrequency;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}