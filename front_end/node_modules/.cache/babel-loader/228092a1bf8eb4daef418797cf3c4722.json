{"ast":null,"code":"var _jsxFileName = \"/Users/stan/Desktop/esg_demo_system/front_end/src/pages/SentimentVis.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, Legend, Brush, Label } from 'recharts';\nimport Modal from 'react-modal';\nimport '../styles/sentiment.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SentimentVis() {\n  _s();\n  const {\n    filename\n  } = useParams(); // Get filename from URL parameters\n  const [sentimentData, setSentimentData] = useState(null);\n  const [selectedSentiments, setSelectedSentiments] = useState(['compound']); // Initialize with compound sentiment only\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalText, setModalText] = useState(\"\");\n  const [hoveredIndex, setHoveredIndex] = useState(null);\n  const sentimentColors = {\n    'compound': '#FF8133',\n    'pos': '#2E933C',\n    'neu': '#51B9F6',\n    'neg': '#FF5F5C'\n  };\n  const getSentimentClass = score => {\n    if (score < -0.5) {\n      return 'neg';\n    } else if (score > 0.5) {\n      return 'pos';\n    } else {\n      return 'neu';\n    }\n  };\n  const [fileReady, setFileReady] = useState(false);\n\n  // New useEffect to check file readiness\n  useEffect(() => {\n    const checkFileReady = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/sentiment-data/${filename}`);\n        if (response.status === 200) {\n          setFileReady(true);\n        }\n      } catch (error) {\n        console.error(`Failed to fetch: ${error}`);\n      }\n    };\n    const timer = setInterval(checkFileReady, 5000); // Check every 5 seconds\n    return () => clearInterval(timer); // Clean up on unmount\n  }, [filename]);\n\n  // Existing useEffect, now also dependent on fileReady\n  useEffect(() => {\n    if (!fileReady) {\n      return;\n    }\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/sentiment-data/${filename}`);\n        const data = await response.json();\n        const transformedData = data.neg.map((value, index) => {\n          return {\n            index: index,\n            neg: data.neg[index],\n            neu: data.neu[index],\n            pos: data.pos[index],\n            compound: data.compound[index],\n            text: data.text[index],\n            wordSentiments: data.wordSentiments[index]\n          };\n        });\n        setSentimentData(transformedData);\n      } catch (error) {\n        console.error(`Failed to fetch data: ${error}`);\n      }\n    };\n    fetchData();\n  }, [filename, fileReady]); // Notice we added fileReady here\n\n  const CustomTooltip = _ref => {\n    let {\n      active,\n      payload,\n      label\n    } = _ref;\n    if (active && payload && payload.length) {\n      const textChunk = sentimentData[label].text || ''; // assuming the text chunk is stored under 'text' key\n      const snippet = textChunk.length > 100 ? textChunk.substring(0, 100) + '...' : textChunk;\n      setHoveredIndex(label);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-tooltip\",\n        style: {\n          backgroundColor: '#f4f4f4',\n          padding: '5px',\n          border: '1px solid #d4d4d4'\n        },\n        children: payload.map((pl, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: `${pl.dataKey} score: ${pl.value}`\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this);\n    }\n    return null;\n  };\n  const handleCheckboxChange = event => {\n    if (selectedSentiments.includes(event.target.value)) {\n      setSelectedSentiments(selectedSentiments.filter(sentiment => sentiment !== event.target.value));\n    } else {\n      setSelectedSentiments([...selectedSentiments, event.target.value]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: sentimentData ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Sentiment scores over the course of a report for \", filename]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-start'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: Object.keys(sentimentColors).map(sentiment => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: sentiment,\n                value: sentiment,\n                checked: selectedSentiments.includes(sentiment),\n                onChange: handleCheckboxChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: sentiment,\n                children: sentiment.charAt(0).toUpperCase() + sentiment.slice(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 41\n              }, this)]\n            }, sentiment, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: isModalOpen,\n            onRequestClose: () => setIsModalOpen(false),\n            contentLabel: \"Text Modal\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsModalOpen(false),\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: modalText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(LineChart, {\n            className: \"myChart\",\n            width: 1000,\n            height: 500,\n            data: sentimentData,\n            animationDuration: 300,\n            animationEasing: \"ease-out\",\n            margin: {\n              top: 5,\n              right: 30,\n              left: 20,\n              bottom: 5\n            },\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"index\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 51\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {\n              verticalAlign: \"top\",\n              wrapperStyle: {\n                lineHeight: '40px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 33\n            }, this), selectedSentiments.map(sentiment => /*#__PURE__*/_jsxDEV(Line, {\n              type: \"monotone\",\n              dataKey: sentiment,\n              stroke: sentimentColors[sentiment],\n              strokeWidth: 3\n            }, sentiment, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 37\n            }, this)), /*#__PURE__*/_jsxDEV(Brush, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            marginLeft: '20px',\n            padding: '15px',\n            border: '1px solid #ccc',\n            borderRadius: '8px',\n            boxShadow: '2px 2px 8px rgba(0,0,0,0.1)'\n          },\n          children: hoveredIndex !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Full Text for Index \", hoveredIndex]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 37\n            }, this), sentimentData[hoveredIndex].wordSentiments.map(_ref2 => {\n              let {\n                word,\n                score\n              } = _ref2;\n              return /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `word ${getSentimentClass(score)}`,\n                children: [word, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 41\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading sentiment data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n_s(SentimentVis, \"mE/3TwrOpT/Zc4hOOv2kDvJ2CGc=\", false, function () {\n  return [useParams];\n});\n_c = SentimentVis;\nexport default SentimentVis;\nvar _c;\n$RefreshReg$(_c, \"SentimentVis\");","map":{"version":3,"names":["React","useEffect","useState","useParams","LineChart","Line","CartesianGrid","XAxis","YAxis","Tooltip","Legend","Brush","Label","Modal","jsxDEV","_jsxDEV","SentimentVis","_s","filename","sentimentData","setSentimentData","selectedSentiments","setSelectedSentiments","isModalOpen","setIsModalOpen","modalText","setModalText","hoveredIndex","setHoveredIndex","sentimentColors","getSentimentClass","score","fileReady","setFileReady","checkFileReady","response","fetch","status","error","console","timer","setInterval","clearInterval","fetchData","data","json","transformedData","neg","map","value","index","neu","pos","compound","text","wordSentiments","CustomTooltip","_ref","active","payload","label","length","textChunk","snippet","substring","className","style","backgroundColor","padding","border","children","pl","dataKey","fileName","_jsxFileName","lineNumber","columnNumber","handleCheckboxChange","event","includes","target","filter","sentiment","display","alignItems","flex","Object","keys","type","id","checked","onChange","htmlFor","charAt","toUpperCase","slice","isOpen","onRequestClose","contentLabel","onClick","width","height","animationDuration","animationEasing","margin","top","right","left","bottom","strokeDasharray","content","verticalAlign","wrapperStyle","lineHeight","stroke","strokeWidth","marginLeft","borderRadius","boxShadow","_ref2","word","_c","$RefreshReg$"],"sources":["/Users/stan/Desktop/esg_demo_system/front_end/src/pages/SentimentVis.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, Legend, Brush, Label } from 'recharts';\nimport Modal from 'react-modal';\nimport '../styles/sentiment.css';\n\nfunction SentimentVis() {\n    const { filename } = useParams(); // Get filename from URL parameters\n    const [sentimentData, setSentimentData] = useState(null);\n    const [selectedSentiments, setSelectedSentiments] = useState(['compound']); // Initialize with compound sentiment only\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [modalText, setModalText] = useState(\"\");\n    const [hoveredIndex, setHoveredIndex] = useState(null);\n\n    const sentimentColors = {\n        'compound': '#FF8133',\n        'pos': '#2E933C',\n        'neu': '#51B9F6',\n        'neg': '#FF5F5C'\n    };\n\n    const getSentimentClass = (score) => {\n        if (score < -0.5) {\n            return 'neg';\n        } else if (score > 0.5) {\n            return 'pos';\n        } else {\n            return 'neu';\n        }\n    }\n\n            const [fileReady, setFileReady] = useState(false);\n\n        // New useEffect to check file readiness\n        useEffect(() => {\n            const checkFileReady = async () => {\n                try {\n                    const response = await fetch(`http://localhost:3000/sentiment-data/${filename}`);\n                    if (response.status === 200) {\n                        setFileReady(true);\n                    }\n                } catch (error) {\n                    console.error(`Failed to fetch: ${error}`);\n                }\n            };\n\n            const timer = setInterval(checkFileReady, 5000); // Check every 5 seconds\n            return () => clearInterval(timer); // Clean up on unmount\n        }, [filename]);\n\n        // Existing useEffect, now also dependent on fileReady\n        useEffect(() => {\n            if (!fileReady) {\n                return;\n            }\n\n    const fetchData = async () => {\n        try {\n            const response = await fetch(`http://localhost:3000/sentiment-data/${filename}`);\n            const data = await response.json();\n    \n            const transformedData = data.neg.map((value, index) => {\n                return {\n                    index: index,\n                    neg: data.neg[index],\n                    neu: data.neu[index],\n                    pos: data.pos[index],\n                    compound: data.compound[index],\n                    text: data.text[index],\n                    wordSentiments: data.wordSentiments[index]\n                };\n            });\n    \n            setSentimentData(transformedData);\n        } catch (error) {\n            console.error(`Failed to fetch data: ${error}`);\n        }\n    };\n\n    fetchData();\n}, [filename, fileReady]); // Notice we added fileReady here\n\n\n   \n\n    const CustomTooltip = ({ active, payload, label }) => {\n        if (active && payload && payload.length) {\n            const textChunk = sentimentData[label].text || ''; // assuming the text chunk is stored under 'text' key\n            const snippet = textChunk.length > 100 ? textChunk.substring(0, 100) + '...' : textChunk;\n\n            setHoveredIndex(label);\n            \n            return (\n                <div className=\"custom-tooltip\" style={{ backgroundColor: '#f4f4f4', padding: '5px', border: '1px solid #d4d4d4' }}>\n                    {payload.map((pl, index) => \n                        <p key={index}>{`${pl.dataKey} score: ${pl.value}`}</p>\n                    )}\n                    {/* Display the snippet */}\n                    {/* <p>Corresponding text: {snippet}</p> */}\n                </div>\n            );\n        }\n        return null;\n    };\n\n    const handleCheckboxChange = (event) => {\n        if (selectedSentiments.includes(event.target.value)) {\n            setSelectedSentiments(selectedSentiments.filter(sentiment => sentiment !== event.target.value));\n        } else {\n            setSelectedSentiments([...selectedSentiments, event.target.value]);\n        }\n    }\n    \n\n    return (\n        <div>\n            {sentimentData ? (\n                <div>\n                    <h1>Sentiment scores over the course of a report for {filename}</h1>\n                    <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n                        <div style={{ flex: 1 }}>\n                            <div>\n                                {Object.keys(sentimentColors).map(sentiment => (\n                                    <div key={sentiment}>\n                                        <input \n                                            type=\"checkbox\"\n                                            id={sentiment}\n                                            value={sentiment}\n                                            checked={selectedSentiments.includes(sentiment)}\n                                            onChange={handleCheckboxChange}\n                                        />\n                                        <label htmlFor={sentiment}>{sentiment.charAt(0).toUpperCase() + sentiment.slice(1)}</label>\n                                    </div>\n                                ))}\n                            </div>\n                            <Modal\n                                    isOpen={isModalOpen}\n                                    onRequestClose={() => setIsModalOpen(false)}\n                                    contentLabel=\"Text Modal\"\n                                >\n                                    <button onClick={() => setIsModalOpen(false)}>Close</button>\n                                    <p>{modalText}</p>\n                            </Modal>\n                            <LineChart\n                                className='myChart'\n                                width={1000}\n                                height={500}\n                                data={sentimentData}\n                                animationDuration={300} \n                                animationEasing=\"ease-out\"\n                                margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\n                            >\n                                <CartesianGrid strokeDasharray=\"3 3\" />\n                                <XAxis dataKey=\"index\"/>\n                                <YAxis />\n                                <Tooltip content={<CustomTooltip />} />\n                                <Legend verticalAlign=\"top\" wrapperStyle={{ lineHeight: '40px' }} />\n                                {selectedSentiments.map(sentiment => \n                                    <Line key={sentiment} type=\"monotone\" dataKey={sentiment} stroke={sentimentColors[sentiment]} strokeWidth={3} />\n                                )}\n                                <Brush />\n                            </LineChart>\n                        </div>\n                        {/* Styling for the card that will contain the full text */}\n                        <div style={{ flex: 1, marginLeft: '20px', padding: '15px', border: '1px solid #ccc', borderRadius: '8px', boxShadow: '2px 2px 8px rgba(0,0,0,0.1)' }}>\n                            {hoveredIndex !== null && (\n                                <div>\n                                    <h2>Full Text for Index {hoveredIndex}</h2>\n                                    {sentimentData[hoveredIndex].wordSentiments.map(({ word, score }) => (\n                                        <span className={`word ${getSentimentClass(score)}`}>{word} </span>\n                                        ))}\n                                    {/* <p>{sentimentData[hoveredIndex].text}</p> */}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            ) : (\n                <p>Loading sentiment data...</p>\n            )}\n        </div>\n    );\n\n}\n\nexport default SentimentVis;"],"mappings":"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"},"metadata":{},"sourceType":"module"}